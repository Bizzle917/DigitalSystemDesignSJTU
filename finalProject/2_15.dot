digraph fsm {
    "IDLE/flag=0"  -> "A0=1/flag = 0" [ label = "0" ]
    "IDLE/flag=0"  -> "B0=0/flag=0" [ label = "0" ]
    "A0=1/flag = 0" -> "A1=11/flag=0" [ label = "0" ]
    "A0=1/flag = 0" -> "B0=0/flag=0" [ label = "0" ]
    "A1=11/flag=0" -> "A1=11/flag=0" [ label = "0" ]
    "A1=11/flag=0" -> "A2=110/flag=0" [ label = "0" ]
    "A2=110/flag=0" -> "A3=1101/flag=1" [ label = "0" ] 
    "A2=110/flag=0" -> "B0=0/flag=0" [ label = "0" ]
    "A3=1101/flag=1" -> "B2=011/flag=0" [ label = "0" ]
    "A3=1101/flag=1" -> "B0=0/flag=0" [ label = "0" ]
    "B0=0/flag=0" -> "B1=01/flag=0" [ label = "0" ]
    "B0=0/flag=0" -> "B0=0/flag=0" [ label = "0" ]
    "B1=01/flag=0" -> "B2=011/flag=0" [ label = "0" ]
    "B1=01/flag=0" -> "B0=0/flag=0" [ label = "0" ]
    "B2=011/flag=0" -> "A1=11/flag=0" [ label = "0" ]
    "B2=011/flag=0" -> "B3=0110/flag=1" [ label = "0" ] 
    "B3=0110/flag=1" -> "A3=1101/flag=1" [ label = "0" ] 
    "B3=0110/flag=1" -> "B0=0/flag=0" [ label = "0" ]
}